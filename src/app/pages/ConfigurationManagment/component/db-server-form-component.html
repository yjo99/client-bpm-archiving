<form [formGroup]="form" (ngSubmit)="onSubmit()" class="card flex flex-col gap-6 p-6 bg-white shadow-lg rounded-lg">
    <!-- Title -->
    <div class="font-semibold text-2xl text-gray-800">
        {{ isEditMode ? 'Update Database Server' : 'Add New Database Server' }}
    </div>

    <!-- Server Name -->
    <div class="flex flex-col gap-1">
        <label for="serverName" class="text-gray-700 font-medium">Server Name*</label>
        <input
                pInputText
                id="serverName"
                type="text"
                formControlName="serverName"
                placeholder="Enter server name"
                class="p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
        />
    </div>

    <!-- Server Host Name -->
    <div class="flex flex-col gap-1">
        <label for="serverHostName" class="text-gray-700 font-medium">Server Host Name*</label>
        <input
                pInputText
                id="serverHostName"
                type="text"
                formControlName="serverHostName"
                placeholder="Enter server host name"
                class="p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
        />
    </div>

    <!-- Server Port -->
    <div class="flex flex-col gap-1">
        <label for="serverPort" class="text-gray-700 font-medium">Server Port*</label>
        <input
                pInputText
                id="serverPort"
                type="number"
                formControlName="serverPort"
                placeholder="Enter server port"
                class="p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
        />
    </div>

    <!-- User Name -->
    <div class="flex flex-col gap-1">
        <label for="userName" class="text-gray-700 font-medium">User Name*</label>
        <input
                pInputText
                id="userName"
                type="text"
                formControlName="userName"
                placeholder="Enter user name"
                class="p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
        />
    </div>

    <!-- User Password -->
    <div class="flex flex-col gap-1">
        <label for="userPassword" class="text-gray-700 font-medium">User Password*</label>
        <input
                pInputText
                id="userPassword"
                type="password"
                formControlName="userPassword"
                placeholder="Enter user password"
                class="p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
        />
    </div>

    <!-- Maximum Parallel Transactions -->
    <div class="flex flex-col gap-1">
        <label for="maximumParallelTransaction" class="text-gray-700 font-medium">Maximum Parallel Transactions*</label>
        <input
                pInputText
                id="maximumParallelTransaction"
                type="number"
                formControlName="maximumParallelTransaction"
                placeholder="Enter maximum parallel transactions"
                class="p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
        />
    </div>

    <!-- Database Type -->
    <div class="flex flex-col gap-1">
        <label for="databaseType" class="text-gray-700 font-medium">Database Type*</label>
        <input
                pInputText
                id="databaseType"
                type="text"
                formControlName="databaseType"
                placeholder="Enter database type"
                class="p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
        />
    </div>

    <div class="flex flex-wrap gap-2">
        <p-button
                label="Test Connection"
                severity="info"
                text
                (click)="testConnection()"
                [loading]="loading"
                [disabled]="loading" />
        <p-button
                type="submit"
                severity="success"
                label="{{ isEditMode ? 'Update Server' : 'Add Server' }}"
                [loading]="loading"
                [disabled]="loading" />
    </div>

    <div *ngIf="testMessage"
         class="fixed bottom-4 right-4 p-4 rounded-lg shadow-lg text-white max-w-[90vw] overflow-auto"
         [ngClass]="testSuccess ? 'bg-green-500' : 'bg-red-500'">
        <div class="font-mono text-sm whitespace-pre-wrap break-all">{{ testMessage }}</div>
    </div>
</form>